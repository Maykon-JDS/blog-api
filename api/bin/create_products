#!/usr/bin/env php
<?php
// bin/doctrine

require_once __DIR__ . '/../Config/paths.php';
require_once ROOT_PATH . '/vendor/autoload.php';
require_once ROOT_PATH . '/Config/dotenv.php';

$_ENV['DB_PORT'] = $_ENV['CONTAINER_DB_PORT'];

require_once ROOT_PATH . '/Config/doctrine.php';

use Entities\Product;

// $newProductName = $argv[1];

for ($i = 1; $i < 100; $i++) {

    $newProductName = "Product " . $i;

    $product = new Product();
    $product->setName($newProductName);

    $entityManager->persist($product);
    $entityManager->flush();

    echo "Created Product with ID " . $product->getId() . "\n";

}

echo "Created 100 Products\n";
